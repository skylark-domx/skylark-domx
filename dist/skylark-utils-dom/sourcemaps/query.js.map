{"version":3,"sources":["query.js"],"names":["define","dom","langx","noder","datax","eventer","finder","geom","styler","fx","isQ","some","Array","prototype","push","slice","every","concat","filter","map","forEach","indexOf","sort","rquickExpr","funcArg","isArrayLike","isString","uniq","isFunction","type","isObject","isArray","isWindow","isDocument","isPlainObject","compact","flatten","camelCase","dasherize","children","wrapper_map","func","context","params","call","arguments","result","this","elem","idx","apply","query","wrapper_selector","last","selector","querySelector","wrapper_every_act","each","wrapper_every_act_firstArgFunc","oldValueFunc","arg1","wrapper_name_value","name","value","isDefined","wrapper_value","newValue","$","NodeList","klass","klassName","init","match","nodes","node","props","doc","charAt","length","exec","createFragment","byId","ownerDoc","find","descendants","window","attr","object","ready","fn","mixin","el","i","get","undefined","toArray","size","remove","callback","not","element","matches","add","is","inArray","isHtmlNode","excludes","item","has","contains","eq","first","closest","parents","ancestors","parentsUntil","util","parent","contents","empty","pluck","property","pushStack","elms","ret","prevObject","replaceWith","newContent","before","wrap","structure","clone","parentNode","index","wrapAll","cloneNode","wrappingElement","append","wrapInner","self","unwrap","document","createTextNode","childNodes","textContent","hide","toggle","setting","css","show","prev","prevAll","previousSibling","next","nextAll","nextSiblings","siblings","html","text","removeAttr","prop","removeProp","data","removeData","val","offset","pagePosition","style","hasClass","wrapper_some_chk","addClass","className","removeClass","toggleClass","scrollTop","scrollLeft","position","options","of","posit","relativePosition","offsetParent","detach","hover","fnOver","fnOut","mouseenter","mouseleave","width","height","clientSize","dimension","Dimension","replace","m","toUpperCase","margin","cb","me","marginExtents","left","right","top","bottom","mb","innerWidth","clientWidth","innerHeight","clientHeight","traverse","wrapper_node_operation","argType","arg","after","prepend","appendTo","prependTo","insertBefore","insertAfter","replaceAll","original","elems","insert","on","off","trigger","split","event","one","animate","emulateTransitionEnd","toogle","fadeTo","fadeIn","fadeOut","fadeToggle","slideDown","slideToggle","slideUp","scrollParent","includeHidden","excludeStaticParent","overflowRegex","test","ownerDocument","end","andSelf","addBack","eventType","place","refNode","descendant","addContent","content","template","substitute","replaceClass","newClass","oldClass","disableSelection","createElement","preventDefault","enableSelection","plugin","args","returnValue","plugins","instantiate"],"mappings":"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","file":"../query.js","sourcesContent":["define([\r\n    \"./dom\",\r\n    \"./langx\",\r\n    \"./noder\",\r\n    \"./datax\",\r\n    \"./eventer\",\r\n    \"./finder\",\r\n    \"./geom\",\r\n    \"./styler\",\r\n    \"./fx\"\r\n], function(dom, langx, noder, datax, eventer, finder, geom, styler, fx) {\r\n    var some = Array.prototype.some,\r\n        push = Array.prototype.push,\r\n        every = Array.prototype.every,\r\n        concat = Array.prototype.concat,\r\n        slice = Array.prototype.slice,\r\n        map = Array.prototype.map,\r\n        filter = Array.prototype.filter,\r\n        forEach = Array.prototype.forEach,\r\n        indexOf = Array.prototype.indexOf,\r\n        sort = Array.prototype.sort,\r\n        isQ;\r\n\r\n    var rquickExpr = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/;\r\n\r\n    var funcArg = langx.funcArg,\r\n        isArrayLike = langx.isArrayLike,\r\n        isString = langx.isString,\r\n        uniq = langx.uniq,\r\n        isFunction = langx.isFunction;\r\n\r\n    var type = langx.type,\r\n        isArray = langx.isArray,\r\n\r\n        isWindow = langx.isWindow,\r\n\r\n        isDocument = langx.isDocument,\r\n\r\n        isObject = langx.isObject,\r\n\r\n        isPlainObject = langx.isPlainObject,\r\n\r\n        compact = langx.compact,\r\n\r\n        flatten = langx.flatten,\r\n\r\n        camelCase = langx.camelCase,\r\n\r\n        dasherize = langx.dasherize,\r\n        children = finder.children;\r\n\r\n    function wrapper_map(func, context) {\r\n        return function() {\r\n            var self = this,\r\n                params = slice.call(arguments);\r\n            var result = langx.map(self, function(elem, idx) {\r\n                return func.apply(context, [elem].concat(params));\r\n            });\r\n            return query(uniq(result));\r\n        }\r\n    }\r\n\r\n    function wrapper_selector(func, context, last) {\r\n        return function(selector) {\r\n            var self = this,\r\n                params = slice.call(arguments);\r\n            var result = this.map(function(idx, elem) {\r\n                // if (elem.nodeType == 1) {\r\n                if (elem.querySelector) {\r\n                    return func.apply(context, last ? [elem] : [elem, selector]);\r\n                }\r\n            });\r\n            if (last && selector) {\r\n                return result.filter(selector);\r\n            } else {\r\n                return result;\r\n            }\r\n        }\r\n    }\r\n\r\n    function wrapper_selector_until(func, context, last) {\r\n        return function(util, selector) {\r\n            var self = this,\r\n                params = slice.call(arguments);\r\n            if (selector === undefined) {\r\n                selector = util;\r\n                util = undefined;\r\n            }\r\n            var result = this.map(function(idx, elem) {\r\n                // if (elem.nodeType == 1) {\r\n                if (elem.querySelector) {\r\n                    return func.apply(context, last ? [elem, util] : [elem, selector, util]);\r\n                }\r\n            });\r\n            if (last && selector) {\r\n                return result.filter(selector);\r\n            } else {\r\n                return result;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    function wrapper_every_act(func, context) {\r\n        return function() {\r\n            var self = this,\r\n                params = slice.call(arguments);\r\n            this.each(function(idx) {\r\n                func.apply(context, [this].concat(params));\r\n            });\r\n            return self;\r\n        }\r\n    }\r\n\r\n    function wrapper_every_act_firstArgFunc(func, context, oldValueFunc) {\r\n        return function(arg1) {\r\n            var self = this,\r\n                params = slice.call(arguments);\r\n            forEach.call(self, function(elem, idx) {\r\n                var newArg1 = funcArg(elem, arg1, idx, oldValueFunc(elem));\r\n                func.apply(context, [elem, arg1].concat(params.slice(1)));\r\n            });\r\n            return self;\r\n        }\r\n    }\r\n\r\n    function wrapper_some_chk(func, context) {\r\n        return function() {\r\n            var self = this,\r\n                params = slice.call(arguments);\r\n            return some.call(self, function(elem) {\r\n                return func.apply(context, [elem].concat(params));\r\n            });\r\n        }\r\n    }\r\n\r\n    function wrapper_name_value(func, context, oldValueFunc) {\r\n        return function(name, value) {\r\n            var self = this,\r\n                params = slice.call(arguments);\r\n\r\n            if (langx.isPlainObject(name) || langx.isDefined(value)) {\r\n                forEach.call(self, function(elem, idx) {\r\n                    var newValue;\r\n                    if (oldValueFunc) {\r\n                        newValue = funcArg(elem, value, idx, oldValueFunc(elem, name));\r\n                    } else {\r\n                        newValue = value\r\n                    }\r\n                    func.apply(context, [elem].concat(params));\r\n                });\r\n                return self;\r\n            } else {\r\n                if (self[0]) {\r\n                    return func.apply(context, [self[0], name]);\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    function wrapper_value(func, context, oldValueFunc) {\r\n        return function(value) {\r\n            var self = this;\r\n\r\n            if (langx.isDefined(value)) {\r\n                forEach.call(self, function(elem, idx) {\r\n                    var newValue;\r\n                    if (oldValueFunc) {\r\n                        newValue = funcArg(elem, value, idx, oldValueFunc(elem));\r\n                    } else {\r\n                        newValue = value\r\n                    }\r\n                    func.apply(context, [elem, newValue]);\r\n                });\r\n                return self;\r\n            } else {\r\n                if (self[0]) {\r\n                    return func.apply(context, [self[0]]);\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    var NodeList = langx.klass({\r\n        klassName: \"SkNodeList\",\r\n        init: function(selector, context) {\r\n            var self = this,\r\n                match, nodes, node, props;\r\n\r\n            if (selector) {\r\n                self.context = context = context || noder.doc();\r\n\r\n                if (isString(selector)) {\r\n                    // a html string or a css selector is expected\r\n                    self.selector = selector;\r\n\r\n                    if (selector.charAt(0) === \"<\" && selector.charAt(selector.length - 1) === \">\" && selector.length >= 3) {\r\n                        match = [null, selector, null];\r\n                    } else {\r\n                        match = rquickExpr.exec(selector);\r\n                    }\r\n\r\n                    if (match) {\r\n                        if (match[1]) {\r\n                            // if selector is html\r\n                            nodes = noder.createFragment(selector);\r\n\r\n                            if (langx.isPlainObject(context)) {\r\n                                props = context;\r\n                            }\r\n\r\n                        } else {\r\n                            node = finder.byId(match[2], noder.ownerDoc(context));\r\n\r\n                            if (node) {\r\n                                // if selector is id\r\n                                nodes = [node];\r\n                            }\r\n\r\n                        }\r\n                    } else {\r\n                        // if selector is css selector\r\n                        if (langx.isString(context)) {\r\n                            context = finder.find(context);\r\n                        }\r\n\r\n                        nodes = finder.descendants(context, selector);\r\n                    }\r\n                } else {\r\n                    if (selector !== window && isArrayLike(selector)) {\r\n                        // a dom node array is expected\r\n                        nodes = selector;\r\n                    } else {\r\n                        // a dom node is expected\r\n                        nodes = [selector];\r\n                    }\r\n                    //self.add(selector, false);\r\n                }\r\n            }\r\n\r\n\r\n            if (nodes) {\r\n\r\n                push.apply(self, nodes);\r\n\r\n                if (props) {\r\n                    for ( var name  in props ) {\r\n                        // Properties of context are called as methods if possible\r\n                        if ( langx.isFunction( this[ name ] ) ) {\r\n                            this[ name ]( props[ name ] );\r\n                        } else {\r\n                            this.attr( name, props[ name ] );\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return self;\r\n        }\r\n    });\r\n\r\n    var query = (function() {\r\n        isQ = function(object) {\r\n            return object instanceof NodeList;\r\n        }\r\n        init = function(selector, context) {\r\n            return new NodeList(selector, context);\r\n        }\r\n\r\n        var $ = function(selector, context) {\r\n            if (isFunction(selector)) {\r\n                eventer.ready(function() {\r\n                    selector($);\r\n                });\r\n            } else if (isQ(selector)) {\r\n                return selector;\r\n            } else {\r\n                if (context && isQ(context) && isString(selector)) {\r\n                    return context.find(selector);\r\n                }\r\n                return init(selector, context);\r\n            }\r\n        };\r\n\r\n        $.fn = NodeList.prototype;\r\n        langx.mixin($.fn, {\r\n            // `map` and `slice` in the jQuery API work differently\r\n            // from their array counterparts\r\n            length : 0,\r\n\r\n            map: function(fn) {\r\n                return $(uniq(langx.map(this, function(el, i) {\r\n                    return fn.call(el, i, el)\r\n                })));\r\n            },\r\n\r\n            slice: function() {\r\n                return $(slice.apply(this, arguments))\r\n            },\r\n\r\n            forEach: function() {\r\n                return forEach.apply(this,arguments);\r\n            },\r\n\r\n            get: function(idx) {\r\n                return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\r\n            },\r\n\r\n            indexOf: function() {\r\n                return indexOf.apply(this,arguments);\r\n            },\r\n\r\n            sort : function() {\r\n                return sort.apply(this,arguments);\r\n            },\r\n\r\n            toArray: function() {\r\n                return slice.call(this);\r\n            },\r\n\r\n            size: function() {\r\n                return this.length\r\n            },\r\n\r\n            remove: wrapper_every_act(noder.remove, noder),\r\n\r\n            each: function(callback) {\r\n                langx.each(this, callback);\r\n                return this;\r\n            },\r\n\r\n            filter: function(selector) {\r\n                if (isFunction(selector)) return this.not(this.not(selector))\r\n                return $(filter.call(this, function(element) {\r\n                    return finder.matches(element, selector)\r\n                }))\r\n            },\r\n\r\n            add: function(selector, context) {\r\n                return $(uniq(this.toArray().concat($(selector, context).toArray())));\r\n            },\r\n\r\n            is: function(selector) {\r\n                if (this.length > 0) {\r\n                    var self = this;\r\n                    if (langx.isString(selector)) {\r\n                        return some.call(self,function(elem) {\r\n                            return finder.matches(elem, selector);\r\n                        });\r\n                    } else if (langx.isArrayLike(selector)) {\r\n                       return some.call(self,function(elem) {\r\n                            return langx.inArray(elem, selector) > -1;\r\n                        });\r\n                    } else if (langx.isHtmlNode(selector)) {\r\n                       return some.call(self,function(elem) {\r\n                            return elem ==  selector;\r\n                        });\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n            \r\n            not: function(selector) {\r\n                var nodes = []\r\n                if (isFunction(selector) && selector.call !== undefined)\r\n                    this.each(function(idx) {\r\n                        if (!selector.call(this, idx)) nodes.push(this)\r\n                    })\r\n                else {\r\n                    var excludes = typeof selector == 'string' ? this.filter(selector) :\r\n                        (isArrayLike(selector) && isFunction(selector.item)) ? slice.call(selector) : $(selector)\r\n                    this.forEach(function(el) {\r\n                        if (excludes.indexOf(el) < 0) nodes.push(el)\r\n                    })\r\n                }\r\n                return $(nodes)\r\n            },\r\n\r\n            has: function(selector) {\r\n                return this.filter(function() {\r\n                    return isObject(selector) ?\r\n                        noder.contains(this, selector) :\r\n                        $(this).find(selector).size()\r\n                })\r\n            },\r\n\r\n            eq: function(idx) {\r\n                return idx === -1 ? this.slice(idx) : this.slice(idx, +idx + 1);\r\n            },\r\n\r\n            first: function() {\r\n                return this.eq(0);\r\n            },\r\n\r\n            last: function() {\r\n                return this.eq(-1);\r\n            },\r\n\r\n            find: wrapper_selector(finder.descendants, finder),\r\n\r\n            closest: wrapper_selector(finder.closest, finder),\r\n            /*\r\n                        closest: function(selector, context) {\r\n                            var node = this[0],\r\n                                collection = false\r\n                            if (typeof selector == 'object') collection = $(selector)\r\n                            while (node && !(collection ? collection.indexOf(node) >= 0 : finder.matches(node, selector)))\r\n                                node = node !== context && !isDocument(node) && node.parentNode\r\n                            return $(node)\r\n                        },\r\n            */\r\n\r\n\r\n            parents: wrapper_selector(finder.ancestors, finder),\r\n\r\n            parentsUntil: wrapper_selector_until(finder.ancestors, finder),\r\n\r\n\r\n            parent: wrapper_selector(finder.parent, finder),\r\n\r\n            children: wrapper_selector(finder.children, finder),\r\n\r\n            contents: wrapper_map(noder.contents, noder),\r\n\r\n            empty: wrapper_every_act(noder.empty, noder),\r\n\r\n            // `pluck` is borrowed from Prototype.js\r\n            pluck: function(property) {\r\n                return langx.map(this, function(el) {\r\n                    return el[property]\r\n                })\r\n            },\r\n\r\n            pushStack : function(elms) {\r\n                var ret = $(elms);\r\n                ret.prevObject = this;\r\n                return ret;\r\n            },\r\n            \r\n            replaceWith: function(newContent) {\r\n                return this.before(newContent).remove();\r\n            },\r\n\r\n            wrap: function(structure) {\r\n                var func = isFunction(structure)\r\n                if (this[0] && !func)\r\n                    var dom = $(structure).get(0),\r\n                        clone = dom.parentNode || this.length > 1\r\n\r\n                return this.each(function(index) {\r\n                    $(this).wrapAll(\r\n                        func ? structure.call(this, index) :\r\n                        clone ? dom.cloneNode(true) : dom\r\n                    )\r\n                })\r\n            },\r\n\r\n            wrapAll: function(wrappingElement) {\r\n                if (this[0]) {\r\n                    $(this[0]).before(wrappingElement = $(wrappingElement));\r\n                    var children;\r\n                    // drill down to the inmost element\r\n                    while ((children = wrappingElement.children()).length) {\r\n                        wrappingElement = children.first();\r\n                    }\r\n                    $(wrappingElement).append(this);\r\n                }\r\n                return this\r\n            },\r\n\r\n            wrapInner: function(wrappingElement) {\r\n                var func = isFunction(wrappingElement)\r\n                return this.each(function(index) {\r\n                    var self = $(this),\r\n                        contents = self.contents(),\r\n                        dom = func ? wrappingElement.call(this, index) : wrappingElement\r\n                    contents.length ? contents.wrapAll(dom) : self.append(dom)\r\n                })\r\n            },\r\n\r\n            unwrap: function(selector) {\r\n                if (this.parent().children().length === 0) {\r\n                    // remove dom without text\r\n                    this.parent(selector).not(\"body\").each(function() {\r\n                        $(this).replaceWith(document.createTextNode(this.childNodes[0].textContent));\r\n                    });\r\n                } else {\r\n                    this.parent().each(function() {\r\n                        $(this).replaceWith($(this).children())\r\n                    });\r\n                }\r\n                return this\r\n            },\r\n\r\n            clone: function() {\r\n                return this.map(function() {\r\n                    return this.cloneNode(true)\r\n                })\r\n            },\r\n\r\n            hide: wrapper_every_act(fx.hide, fx),\r\n\r\n            toggle: function(setting) {\r\n                return this.each(function() {\r\n                    var el = $(this);\r\n                    (setting === undefined ? el.css(\"display\") == \"none\" : setting) ? el.show(): el.hide()\r\n                })\r\n            },\r\n\r\n            prev: function(selector) {\r\n                return $(this.pluck('previousElementSibling')).filter(selector || '*')\r\n            },\r\n\r\n            prevAll: wrapper_selector(finder.previousSibling, finder),\r\n\r\n            next: function(selector) {\r\n                return $(this.pluck('nextElementSibling')).filter(selector || '*')\r\n            },\r\n\r\n            nextAll: wrapper_selector(finder.nextSiblings, finder),\r\n\r\n            siblings: wrapper_selector(finder.siblings, finder),\r\n\r\n            html: wrapper_value(noder.html, noder, noder.html),\r\n\r\n            text: wrapper_value(datax.text, datax, datax.text),\r\n\r\n            attr: wrapper_name_value(datax.attr, datax, datax.attr),\r\n\r\n            removeAttr: wrapper_every_act(datax.removeAttr, datax),\r\n\r\n            prop: wrapper_name_value(datax.prop, datax, datax.prop),\r\n\r\n            removeProp: wrapper_every_act(datax.removeProp, datax),\r\n\r\n            data: wrapper_name_value(datax.data, datax, datax.data),\r\n\r\n            removeData: wrapper_every_act(datax.removeData, datax),\r\n\r\n            val: wrapper_value(datax.val, datax, datax.val),\r\n\r\n            offset: wrapper_value(geom.pagePosition, geom, geom.pagePosition),\r\n\r\n            style: wrapper_name_value(styler.css, styler),\r\n\r\n            css: wrapper_name_value(styler.css, styler),\r\n\r\n            index: function(elem) {\r\n                if (elem) {\r\n                    return this.indexOf($(elem)[0]);\r\n                } else {\r\n                    return this.parent().children().indexOf(this[0]);\r\n                }\r\n            },\r\n\r\n            //hasClass(name)\r\n            hasClass: wrapper_some_chk(styler.hasClass, styler),\r\n\r\n            //addClass(name)\r\n            addClass: wrapper_every_act_firstArgFunc(styler.addClass, styler, styler.className),\r\n\r\n            //removeClass(name)\r\n            removeClass: wrapper_every_act_firstArgFunc(styler.removeClass, styler, styler.className),\r\n\r\n            //toogleClass(name,when)\r\n            toggleClass: wrapper_every_act_firstArgFunc(styler.toggleClass, styler, styler.className),\r\n\r\n            scrollTop: wrapper_value(geom.scrollTop, geom),\r\n\r\n            scrollLeft: wrapper_value(geom.scrollLeft, geom),\r\n\r\n            position: function(options) {\r\n                if (!this.length) return\r\n\r\n                if (options) {\r\n                    if (options.of && options.of.length) {\r\n                        options = langx.clone(options);\r\n                        options.of = options.of[0];\r\n                    }\r\n                    return this.each( function() {\r\n                        geom.posit(this,options);\r\n                    });\r\n                } else {\r\n                    var elem = this[0];\r\n\r\n                    return geom.relativePosition(elem);\r\n\r\n                }             \r\n            },\r\n\r\n            offsetParent: wrapper_map(geom.offsetParent, geom)\r\n        });\r\n\r\n        // for now\r\n        $.fn.detach = $.fn.remove;\r\n\r\n        $.fn.hover = function(fnOver, fnOut) {\r\n            return this.mouseenter(fnOver).mouseleave(fnOut || fnOver);\r\n        };\r\n\r\n        $.fn.size = wrapper_value(geom.size, geom);\r\n\r\n        $.fn.width = wrapper_value(geom.width, geom, geom.width);\r\n\r\n        $.fn.height = wrapper_value(geom.height, geom, geom.height);\r\n\r\n        $.fn.clientSize = wrapper_value(geom.clientSize, geom.clientSize);\r\n\r\n        ['width', 'height'].forEach(function(dimension) {\r\n            var offset, Dimension = dimension.replace(/./, function(m) {\r\n                return m[0].toUpperCase()\r\n            });\r\n\r\n            $.fn['outer' + Dimension] = function(margin, value) {\r\n                if (arguments.length) {\r\n                    if (typeof margin !== 'boolean') {\r\n                        value = margin;\r\n                        margin = false;\r\n                    }\r\n                } else {\r\n                    margin = false;\r\n                    value = undefined;\r\n                }\r\n\r\n                if (value === undefined) {\r\n                    var el = this[0];\r\n                    if (!el) {\r\n                        return undefined;\r\n                    }\r\n                    var cb = geom.size(el);\r\n                    if (margin) {\r\n                        var me = geom.marginExtents(el);\r\n                        cb.width = cb.width + me.left + me.right;\r\n                        cb.height = cb.height + me.top + me.bottom;\r\n                    }\r\n                    return dimension === \"width\" ? cb.width : cb.height;\r\n                } else {\r\n                    return this.each(function(idx, el) {\r\n                        var mb = {};\r\n                        var me = geom.marginExtents(el);\r\n                        if (dimension === \"width\") {\r\n                            mb.width = value;\r\n                            if (margin) {\r\n                                mb.width = mb.width - me.left - me.right\r\n                            }\r\n                        } else {\r\n                            mb.height = value;\r\n                            if (margin) {\r\n                                mb.height = mb.height - me.top - me.bottom;\r\n                            }\r\n                        }\r\n                        geom.size(el, mb);\r\n                    })\r\n\r\n                }\r\n            };\r\n        })\r\n\r\n        $.fn.innerWidth = wrapper_value(geom.clientWidth, geom, geom.clientWidth);\r\n\r\n        $.fn.innerHeight = wrapper_value(geom.clientHeight, geom, geom.clientHeight);\r\n\r\n        var traverseNode = noder.traverse;\r\n\r\n        function wrapper_node_operation(func, context, oldValueFunc) {\r\n            return function(html) {\r\n                var argType, nodes = langx.map(arguments, function(arg) {\r\n                    argType = type(arg)\r\n                    return argType == \"object\" || argType == \"array\" || arg == null ?\r\n                        arg : noder.createFragment(arg)\r\n                });\r\n                if (nodes.length < 1) {\r\n                    return this\r\n                }\r\n                this.each(function(idx) {\r\n                    func.apply(context, [this, nodes, idx > 0]);\r\n                });\r\n                return this;\r\n            }\r\n        }\r\n\r\n\r\n        $.fn.after = wrapper_node_operation(noder.after, noder);\r\n\r\n        $.fn.prepend = wrapper_node_operation(noder.prepend, noder);\r\n\r\n        $.fn.before = wrapper_node_operation(noder.before, noder);\r\n\r\n        $.fn.append = wrapper_node_operation(noder.append, noder);\r\n\r\n\r\n        langx.each( {\r\n            appendTo: \"append\",\r\n            prependTo: \"prepend\",\r\n            insertBefore: \"before\",\r\n            insertAfter: \"after\",\r\n            replaceAll: \"replaceWith\"\r\n        }, function( name, original ) {\r\n            $.fn[ name ] = function( selector ) {\r\n                var elems,\r\n                    ret = [],\r\n                    insert = $( selector ),\r\n                    last = insert.length - 1,\r\n                    i = 0;\r\n\r\n                for ( ; i <= last; i++ ) {\r\n                    elems = i === last ? this : this.clone( true );\r\n                    $( insert[ i ] )[ original ]( elems );\r\n\r\n                    // Support: Android <=4.0 only, PhantomJS 1 only\r\n                    // .get() because push.apply(_, arraylike) throws on ancient WebKit\r\n                    push.apply( ret, elems.get() );\r\n                }\r\n\r\n                return this.pushStack( ret );\r\n            };\r\n        } );\r\n\r\n/*\r\n        $.fn.insertAfter = function(html) {\r\n            $(html).after(this);\r\n            return this;\r\n        };\r\n\r\n        $.fn.insertBefore = function(html) {\r\n            $(html).before(this);\r\n            return this;\r\n        };\r\n\r\n        $.fn.appendTo = function(html) {\r\n            $(html).append(this);\r\n            return this;\r\n        };\r\n\r\n        $.fn.prependTo = function(html) {\r\n            $(html).prepend(this);\r\n            return this;\r\n        };\r\n\r\n        $.fn.replaceAll = function(selector) {\r\n            $(selector).replaceWith(this);\r\n            return this;\r\n        };\r\n*/\r\n        return $;\r\n    })();\r\n\r\n    (function($) {\r\n        $.fn.on = wrapper_every_act(eventer.on, eventer);\r\n\r\n        $.fn.off = wrapper_every_act(eventer.off, eventer);\r\n\r\n        $.fn.trigger = wrapper_every_act(eventer.trigger, eventer);\r\n\r\n        ('focusin focusout focus blur load resize scroll unload click dblclick ' +\r\n            'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave ' +\r\n            'change select keydown keypress keyup error transitionEnd').split(' ').forEach(function(event) {\r\n            $.fn[event] = function(data, callback) {\r\n                return (0 in arguments) ?\r\n                    this.on(event, data, callback) :\r\n                    this.trigger(event)\r\n            }\r\n        });\r\n\r\n        $.fn.one = function(event, selector, data, callback) {\r\n            if (!langx.isString(selector) && !langx.isFunction(callback)) {\r\n                callback = data;\r\n                data = selector;\r\n                selector = null;\r\n            }\r\n\r\n            if (langx.isFunction(data)) {\r\n                callback = data;\r\n                data = null;\r\n            }\r\n\r\n            return this.on(event, selector, data, callback, 1)\r\n        };\r\n\r\n        $.fn.animate = wrapper_every_act(fx.animate, fx);\r\n        $.fn.emulateTransitionEnd = wrapper_every_act(fx.emulateTransitionEnd, fx);\r\n\r\n        $.fn.show = wrapper_every_act(fx.show, fx);\r\n        $.fn.hide = wrapper_every_act(fx.hide, fx);\r\n        $.fn.toogle = wrapper_every_act(fx.toogle, fx);\r\n        $.fn.fadeTo = wrapper_every_act(fx.fadeTo, fx);\r\n        $.fn.fadeIn = wrapper_every_act(fx.fadeIn, fx);\r\n        $.fn.fadeOut = wrapper_every_act(fx.fadeOut, fx);\r\n        $.fn.fadeToggle = wrapper_every_act(fx.fadeToggle, fx);\r\n\r\n        $.fn.slideDown = wrapper_every_act(fx.slideDown, fx);\r\n        $.fn.slideToggle = wrapper_every_act(fx.slideToggle, fx);\r\n        $.fn.slideUp = wrapper_every_act(fx.slideUp, fx);\r\n\r\n        $.fn.scrollParent = function( includeHidden ) {\r\n            var position = this.css( \"position\" ),\r\n                excludeStaticParent = position === \"absolute\",\r\n                overflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\r\n                scrollParent = this.parents().filter( function() {\r\n                    var parent = $( this );\r\n                    if ( excludeStaticParent && parent.css( \"position\" ) === \"static\" ) {\r\n                        return false;\r\n                    }\r\n                    return overflowRegex.test( parent.css( \"overflow\" ) + parent.css( \"overflow-y\" ) +\r\n                        parent.css( \"overflow-x\" ) );\r\n                } ).eq( 0 );\r\n\r\n            return position === \"fixed\" || !scrollParent.length ?\r\n                $( this[ 0 ].ownerDocument || document ) :\r\n                scrollParent;\r\n        };\r\n    })(query);\r\n\r\n\r\n    (function($) {\r\n        $.fn.end = function() {\r\n            return this.prevObject || $()\r\n        }\r\n\r\n        $.fn.andSelf = function() {\r\n            return this.add(this.prevObject || $())\r\n        }\r\n\r\n        $.fn.addBack = function(selector) {\r\n            if (this.prevObject) {\r\n                if (selector) {\r\n                    return this.add(this.prevObject.filter(selector));\r\n                } else {\r\n                    return this.add(this.prevObject);\r\n                }\r\n            } else {\r\n                return this;\r\n            }\r\n        }\r\n\r\n        'filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings'.split(',').forEach(function(property) {\r\n            var fn = $.fn[property]\r\n            $.fn[property] = function() {\r\n                var ret = fn.apply(this, arguments)\r\n                ret.prevObject = this\r\n                return ret\r\n            }\r\n        })\r\n    })(query);\r\n\r\n\r\n    (function($) {\r\n        $.fn.query = $.fn.find;\r\n\r\n        $.fn.place = function(refNode, position) {\r\n            // summary:\r\n            //      places elements of this node list relative to the first element matched\r\n            //      by queryOrNode. Returns the original NodeList. See: `dojo/dom-construct.place`\r\n            // queryOrNode:\r\n            //      may be a string representing any valid CSS3 selector or a DOM node.\r\n            //      In the selector case, only the first matching element will be used\r\n            //      for relative positioning.\r\n            // position:\r\n            //      can be one of:\r\n            //\r\n            //      -   \"last\" (default)\r\n            //      -   \"first\"\r\n            //      -   \"before\"\r\n            //      -   \"after\"\r\n            //      -   \"only\"\r\n            //      -   \"replace\"\r\n            //\r\n            //      or an offset in the childNodes\r\n            if (langx.isString(refNode)) {\r\n                refNode = finder.descendant(refNode);\r\n            } else if (isQ(refNode)) {\r\n                refNode = refNode[0];\r\n            }\r\n            return this.each(function(i, node) {\r\n                switch (position) {\r\n                    case \"before\":\r\n                        noder.before(refNode, node);\r\n                        break;\r\n                    case \"after\":\r\n                        noder.after(refNode, node);\r\n                        break;\r\n                    case \"replace\":\r\n                        noder.replace(refNode, node);\r\n                        break;\r\n                    case \"only\":\r\n                        noder.empty(refNode);\r\n                        noder.append(refNode, node);\r\n                        break;\r\n                    case \"first\":\r\n                        noder.prepend(refNode, node);\r\n                        break;\r\n                        // else fallthrough...\r\n                    default: // aka: last\r\n                        noder.append(refNode, node);\r\n                }\r\n            });\r\n        };\r\n\r\n        $.fn.addContent = function(content, position) {\r\n            if (content.template) {\r\n                content = langx.substitute(content.template, content);\r\n            }\r\n            return this.append(content);\r\n        };\r\n\r\n        $.fn.replaceClass = function(newClass, oldClass) {\r\n            this.removeClass(oldClass);\r\n            this.addClass(newClass);\r\n            return this;\r\n        };\r\n\r\n        $.fn.replaceClass = function(newClass, oldClass) {\r\n            this.removeClass(oldClass);\r\n            this.addClass(newClass);\r\n            return this;\r\n        };\r\n\r\n        $.fn.disableSelection = ( function() {\r\n            var eventType = \"onselectstart\" in document.createElement( \"div\" ) ?\r\n                \"selectstart\" :\r\n                \"mousedown\";\r\n\r\n            return function() {\r\n                return this.on( eventType + \".ui-disableSelection\", function( event ) {\r\n                    event.preventDefault();\r\n                } );\r\n            };\r\n        } )();\r\n\r\n        $.fn.enableSelection = function() {\r\n            return this.off( \".ui-disableSelection\" );\r\n        };\r\n       \r\n\r\n    })(query);\r\n\r\n    query.fn.plugin = function(name,options) {\r\n        var args = slice.call( arguments, 1 ),\r\n            self = this,\r\n            returnValue = this;\r\n\r\n        this.each(function(){\r\n            returnValue = plugins.instantiate.apply(self,[this,name].concat(args));\r\n        });\r\n        return returnValue;\r\n    };\r\n\r\n    return dom.query = query;\r\n\r\n});"]}