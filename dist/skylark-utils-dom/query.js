/**
 * skylark-utils-dom - An Elegant HTML5 DOM utility Library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./dom","./langx","./noder","./datax","./eventer","./finder","./geom","./styler","./fx"],function(t,n,e,i,r,s,o,a,c){var l,f=Array.prototype.some,u=Array.prototype.push,h=(Array.prototype.every,Array.prototype.concat,Array.prototype.slice),p=(Array.prototype.map,Array.prototype.filter),d=Array.prototype.forEach,v=Array.prototype.indexOf,g=Array.prototype.sort,m=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,y=n.funcArg,b=n.isArrayLike,w=n.isString,A=n.uniq,x=n.isFunction,S=n.type,k=n.isArray,C=(n.isWindow,n.isDocument,n.isObject);n.isPlainObject,n.compact,n.flatten,n.camelCase,n.dasherize,s.children;function O(t,e){return function(){var i=h.call(arguments),r=n.map(this,function(n,r){return t.apply(e,[n].concat(i))});return D(A(r))}}function E(t,n,e){return function(i){h.call(arguments);var r=this.map(function(r,s){if(s.querySelector)return t.apply(n,e?[s]:[s,i])});return e&&i?r.filter(i):r}}function T(t,n){return function(){var e=h.call(arguments);return this.each(function(i){t.apply(n,[this].concat(e))}),this}}function j(t,n,e){return function(i){var r=h.call(arguments);return d.call(this,function(s,o){y(s,i,o,e(s));t.apply(n,[s,i].concat(r.slice(1)))}),this}}function z(t,e,i){return function(r,s){var o=h.call(arguments);return n.isPlainObject(r)||n.isDefined(s)?(d.call(this,function(n,a){i&&y(n,s,a,i(n,r)),t.apply(e,[n].concat(o))}),this):this[0]?t.apply(e,[this[0],r]):void 0}}function N(t,e,i){return function(r){return n.isDefined(r)?(d.call(this,function(n,s){var o;o=i?y(n,r,s,i(n)):r,t.apply(e,[n,o])}),this):this[0]?t.apply(e,[this[0]]):void 0}}var P,q=n.klass({klassName:"SkNodeList",init:function(t,i){var r,o,a,c;if(t&&(this.context=i=i||e.doc(),w(t)?(this.selector=t,(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:m.exec(t))?r[1]?(o=e.createFragment(t),n.isPlainObject(i)&&(c=i)):(a=s.byId(r[2],e.ownerDoc(i)))&&(o=[a]):(n.isString(i)&&(i=s.find(i)),o=s.descendants(i,t))):o=k(t)?t:[t]),o&&(u.apply(this,o),c))for(var l in c)n.isFunction(this[l])?this[l](c[l]):this.attr(l,c[l]);return this}}),D=function(){l=function(t){return t instanceof q},init=function(t,n){return new q(t,n)};var t,m,y,k=function(t,n){if(!x(t))return l(t)?t:n&&l(n)&&w(t)?n.find(t):init(t,n);r.ready(function(){t(k)})};k.fn=q.prototype,n.mixin(k.fn,{length:0,map:function(t){return k(A(n.map(this,function(n,e){return t.call(n,e,n)})))},slice:function(){return k(h.apply(this,arguments))},forEach:function(){return d.apply(this,arguments)},get:function(t){return void 0===t?h.call(this):this[t>=0?t:t+this.length]},indexOf:function(){return v.apply(this,arguments)},sort:function(){return g.apply(this,arguments)},toArray:function(){return h.call(this)},size:function(){return this.length},remove:T(e.remove,e),each:function(t){return n.each(this,t),this},filter:function(t){return x(t)?this.not(this.not(t)):k(p.call(this,function(n){return s.matches(n,t)}))},add:function(t,n){return k(A(this.toArray().concat(k(t,n).toArray())))},is:function(t){if(this.length>0){if(n.isString(t))return f.call(this,function(n){return s.matches(n,t)});if(n.isArrayLike(t))return f.call(this,function(e){return n.inArray(e,t)>-1});if(n.isHtmlNode(t))return f.call(this,function(n){return n==t})}return!1},not:function(t){var n=[];if(x(t)&&void 0!==t.call)this.each(function(e){t.call(this,e)||n.push(this)});else{var e="string"==typeof t?this.filter(t):b(t)&&x(t.item)?h.call(t):k(t);this.forEach(function(t){e.indexOf(t)<0&&n.push(t)})}return k(n)},has:function(t){return this.filter(function(){return C(t)?e.contains(this,t):k(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:E(s.descendants,s),closest:E(s.closest,s),parents:E(s.ancestors,s),parentsUntil:(t=s.ancestors,m=s,function(n,e){h.call(arguments),void 0===e&&(e=n,n=void 0);var i=this.map(function(i,r){if(r.querySelector)return t.apply(m,y?[r,n]:[r,e,n])});return y&&e?i.filter(e):i}),parent:E(s.parent,s),children:E(s.children,s),contents:O(e.contents,e),empty:T(e.empty,e),pluck:function(t){return n.map(this,function(n){return n[t]})},pushStack:function(t){var n=k(t);return n.prevObject=this,n},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=x(t);if(this[0]&&!n)var e=k(t).get(0),i=e.parentNode||this.length>1;return this.each(function(r){k(this).wrapAll(n?t.call(this,r):i?e.cloneNode(!0):e)})},wrapAll:function(t){if(this[0]){var n;for(k(this[0]).before(t=k(t));(n=t.children()).length;)t=n.first();k(t).append(this)}return this},wrapInner:function(t){var n=x(t);return this.each(function(e){var i=k(this),r=i.contents(),s=n?t.call(this,e):t;r.length?r.wrapAll(s):i.append(s)})},unwrap:function(t){return 0===this.parent().children().length?this.parent(t).not("body").each(function(){k(this).replaceWith(document.createTextNode(this.childNodes[0].textContent))}):this.parent().each(function(){k(this).replaceWith(k(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:T(c.hide,c),toggle:function(t){return this.each(function(){var n=k(this);(void 0===t?"none"==n.css("display"):t)?n.show():n.hide()})},prev:function(t){return k(this.pluck("previousElementSibling")).filter(t||"*")},prevAll:E(s.previousSibling,s),next:function(t){return k(this.pluck("nextElementSibling")).filter(t||"*")},nextAll:E(s.nextSiblings,s),siblings:E(s.siblings,s),html:N(e.html,e,e.html),text:N(i.text,i,i.text),attr:z(i.attr,i,i.attr),removeAttr:T(i.removeAttr,i),prop:z(i.prop,i,i.prop),removeProp:T(i.removeProp,i),data:z(i.data,i,i.data),removeData:T(i.removeData,i),val:N(i.val,i,i.val),offset:N(o.pagePosition,o,o.pagePosition),style:z(a.css,a),css:z(a.css,a),index:function(t){return t?this.indexOf(k(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t,n){return function(){var e=h.call(arguments);return f.call(this,function(i){return t.apply(n,[i].concat(e))})}}(a.hasClass,a),addClass:j(a.addClass,a,a.className),removeClass:j(a.removeClass,a,a.className),toggleClass:j(a.toggleClass,a,a.className),scrollTop:N(o.scrollTop,o),scrollLeft:N(o.scrollLeft,o),position:function(t){if(this.length){if(t)return t.of&&t.of.length&&((t=n.clone(t)).of=t.of[0]),this.each(function(){o.posit(this,t)});var e=this[0];return o.relativePosition(e)}},offsetParent:O(o.offsetParent,o)}),k.fn.detach=k.fn.remove,k.fn.hover=function(t,n){return this.mouseenter(t).mouseleave(n||t)},k.fn.size=N(o.size,o),k.fn.width=N(o.width,o,o.width),k.fn.height=N(o.height,o,o.height),k.fn.clientSize=N(o.clientSize,o.clientSize),["width","height"].forEach(function(t){var n=t.replace(/./,function(t){return t[0].toUpperCase()});k.fn["outer"+n]=function(n,e){if(arguments.length?"boolean"!=typeof n&&(e=n,n=!1):(n=!1,e=void 0),void 0===e){var i=this[0];if(!i)return;var r=o.size(i);if(n){var s=o.marginExtents(i);r.width=r.width+s.left+s.right,r.height=r.height+s.top+s.bottom}return"width"===t?r.width:r.height}return this.each(function(i,r){var s={},a=o.marginExtents(r);"width"===t?(s.width=e,n&&(s.width=s.width-a.left-a.right)):(s.height=e,n&&(s.height=s.height-a.top-a.bottom)),o.size(r,s)})}}),k.fn.innerWidth=N(o.clientWidth,o,o.clientWidth),k.fn.innerHeight=N(o.clientHeight,o,o.clientHeight);e.traverse;function P(t,i,r){return function(r){var s,o=n.map(arguments,function(t){return"object"==(s=S(t))||"array"==s||null==t?t:e.createFragment(t)});return o.length<1?this:(this.each(function(n){t.apply(i,[this,o,n>0])}),this)}}return k.fn.after=P(e.after,e),k.fn.prepend=P(e.prepend,e),k.fn.before=P(e.before,e),k.fn.append=P(e.append,e),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,n){k.fn[t]=function(t){for(var e,i=[],r=k(t),s=r.length-1,o=0;o<=s;o++)e=o===s?this:this.clone(!0),k(r[o])[n](e),u.apply(i,e.get());return this.pushStack(i)}}),k}();return(P=D).fn.on=T(r.on,r),P.fn.off=T(r.off,r),P.fn.trigger=T(r.trigger,r),"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error transitionEnd".split(" ").forEach(function(t){P.fn[t]=function(n,e){return 0 in arguments?this.on(t,n,e):this.trigger(t)}}),P.fn.one=function(t,e,i,r){return n.isString(e)||n.isFunction(r)||(r=i,i=e,e=null),n.isFunction(i)&&(r=i,i=null),this.on(t,e,i,r,1)},P.fn.animate=T(c.animate,c),P.fn.emulateTransitionEnd=T(c.emulateTransitionEnd,c),P.fn.show=T(c.show,c),P.fn.hide=T(c.hide,c),P.fn.toogle=T(c.toogle,c),P.fn.fadeTo=T(c.fadeTo,c),P.fn.fadeIn=T(c.fadeIn,c),P.fn.fadeOut=T(c.fadeOut,c),P.fn.fadeToggle=T(c.fadeToggle,c),P.fn.slideDown=T(c.slideDown,c),P.fn.slideToggle=T(c.slideToggle,c),P.fn.slideUp=T(c.slideUp,c),P.fn.scrollParent=function(t){var n=this.css("position"),e="absolute"===n,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=P(this);return(!e||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&r.length?r:P(this[0].ownerDocument||document)},function(t){t.fn.end=function(){return this.prevObject||t()},t.fn.andSelf=function(){return this.add(this.prevObject||t())},t.fn.addBack=function(t){return this.prevObject?t?this.add(this.prevObject.filter(t)):this.add(this.prevObject):this},"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings".split(",").forEach(function(n){var e=t.fn[n];t.fn[n]=function(){var t=e.apply(this,arguments);return t.prevObject=this,t}})}(D),function(t){var i;t.fn.query=t.fn.find,t.fn.place=function(t,i){return n.isString(t)?t=s.descendant(t):l(t)&&(t=t[0]),this.each(function(n,r){switch(i){case"before":e.before(t,r);break;case"after":e.after(t,r);break;case"replace":e.replace(t,r);break;case"only":e.empty(t),e.append(t,r);break;case"first":e.prepend(t,r);break;default:e.append(t,r)}})},t.fn.addContent=function(t,e){return t.template&&(t=n.substitute(t.template,t)),this.append(t)},t.fn.replaceClass=function(t,n){return this.removeClass(n),this.addClass(t),this},t.fn.replaceClass=function(t,n){return this.removeClass(n),this.addClass(t),this},t.fn.disableSelection=(i="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(i+".ui-disableSelection",function(t){t.preventDefault()})}),t.fn.enableSelection=function(){return this.off(".ui-disableSelection")}}(D),D.fn.plugin=function(t,n){var e=h.call(arguments,1),i=this,r=this;return this.each(function(){r=plugins.instantiate.apply(i,[this,t].concat(e))}),r},t.query=D});
//# sourceMappingURL=sourcemaps/query.js.map
