/**
 * skylark-utils-dom - An Elegant HTML5 DOM utility Library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./dom","./langx","./noder"],function(e,t,r){"use strict";var n,i=document.getElementsByTagName("head")[0],u=0,a={},s={},l=h(),d=s[l],o="cssRules"in d?"cssRules":"rules",f=d.deleteRule||d.removeRule;if(d.insertRule){var c=d.insertRule;n=function(e,t,r){c.call(this,e+"{"+t+"}",r)}}else n=d.addRule;function h(e,n){var a,l={type:"text/css"},d=u++;return(n=n||{}).media&&(l.media=n.media),a=e?r.create("link",t.mixin(l,{rel:"stylesheet",async:!1})):r.createElement("style",l),r.append(i,a),s[d]={id:d,node:a},d}function m(e,r){var n=s[e];return t.isNumber(r)?f.call(n,r):t.each(n[o],function(e,t){if(r===t)return f.call(n,e),!1}),this}function S(e,n){var i,u=s[e];return i=t.isString(n)?n:R(n),r.append(u.node,r.createTextNode(i)),this}function v(e){return e.startsWith("@")}function R(e){var r=function(e,t,r){return e&&(v(e)?r+=1:t=e+" "+t),{name:t,depth:r}},n=function(e,i,u){var a="",s=v(e);if(v(e))t.isString(i)?a=p.SPACE.repeat(u)+e.trim()+' "'+i.trim()+' ";\n':(a+=p.SPACE.repeat(u)+e.trim()+" {\n",a+=n("",i,u+1),a+=p.SPACE.repeat(u)+" }\n");else if(t.isString(i))a=p.SPACE.repeat(u)+e.trim(),a=s?a+' "'+i.trim()+' ";\n':a+": "+i.trim()+";\n";else if(t.isArray(i))for(var l=0;l<i.length;l++)a+=n(e,i[l],u);else{if(e){for(var l in a+=p.SPACE.repeat(u)+e.trim()+" {\n",i){var d=i[l];t.isString(d)&&(a+=n(l,d,u+1))}a+=p.SPACE.repeat(u)+"}\n"}for(var l in i){d=i[l];if(!t.isString(d)){var o=r(e,l,u);a+=n(o.name,d,o.depth)}}}return a};return n("",e,0)}function p(){return p}return t.mixin(p,{SPACE:"\t",addRules:function(e){return this.addRules(l,e)},addSheetRules:S,createStyleSheet:function(e,t){t||(t={});var r=h(!1,t);return e&&S(r,e),r},deleteSheetRule:m,deleteRule:function(e){return m(l,e),this},insertRule:function(e,t,r){return this.insertSheetRule(l,e,t,r)},insertSheetRule:function(e,t,r,i){if(!t||!r)return-1;var u=s[e];return i=i||u[o].length,n.call(u,t,r,i)},loadStyleSheet:function(e,r,n,i){t.isFunction(r)&&(i=n,n=r,r={});var u=a[e];if(!u){var l=h(!0,r);u=a[e]=s[l],t.mixin(u,{state:0,url:e,deferred:new t.Deferred});var d=u.node;startTime=(new Date).getTime(),d.onload=function(){u.state=1,u.deferred.resolve(u.id)},d.onerror=function(e){u.state=-1,u.deferred.reject(e)},d.href=u.url}return(n||i)&&u.deferred.promise.then(n,i),u.id},removeStyleSheet:function(e){if(e===l)throw new Error("The default stylesheet can not be deleted");var t=s[e];return delete s[e],r.remove(t.node),this},toString:R}),e.css=p});
//# sourceMappingURL=sourcemaps/css.js.map
