/**
 * skylark-utils-dom - An Elegant HTML5 DOM utility Library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./dom","./langx","./noder","./datax","./eventer","./finder","./geom","./styler","./fx","./query","./elmx"],function(t,i,n,e,o,r,s,a,u,p,h){"use strict";var c=Array.prototype.slice,f=(Array.prototype.concat,{}),l={};function d(t,i,n){var o=e.data(t,i);if("instance"===n)return o;if("destroy"===n){if(!o)throw new Error("The plugin instance is not existed");o.destroy(),e.removeData(t,i),o=void 0}else if(o)n&&o.reset(n);else{if(void 0!==n&&"object"!=typeof n)throw new Error("The options must be a plain object");o=new(0,f[i])(t,n),e.data(t,i,o)}return o}var v=i.Evented.inherit({klassName:"Plugin",_construct:function(t,i){this._elm=t,this._initOptions(i)},_initOptions:function(t){var n=this.constructor,e=n.cache=n.cache||{},o=e.defaults;if(!o){var r=[];do{if(r.unshift(n),n===v)break;n=n.superclass}while(n);o=e.defaults={};for(var s=0;s<r.length;s++)(n=r[s]).prototype.hasOwnProperty("options")&&i.mixin(o,n.prototype.options),n.hasOwnProperty("options")&&i.mixin(o,n.options)}return Object.defineProperty(this,"options",{value:i.mixin({},o,t)}),this.options},destroy:function(){this._destroy(),e.removeData(this._elm,this.pluginName)},_destroy:i.noop,_delay:function(t,i){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},i||0)},option:function(t,n){var e,o,r,s=t;if(0===arguments.length)return i.mixin({},this.options);if("string"==typeof t)if(s={},t=(e=t.split(".")).shift(),e.length){for(o=s[t]=i.mixin({},this.options[t]),r=0;r<e.length-1;r++)o[e[r]]=o[e[r]]||{},o=o[e[r]];if(t=e.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(t){var i;for(i in t)this._setOption(i,t[i]);return this},_setOption:function(t,i){return this.options[t]=i,this}});function y(){return y}return p.fn.plugin=function(t,i){var n=c.call(arguments,1),e=this,o=this;return this.each(function(){o=d.apply(e,[this,t].concat(n))}),o},h.partial("plugin",function(t,i){var n=c.call(arguments,1);return d.apply(this,[this.domNode,t].concat(n))}),i.mixin(y,{instantiate:d,Plugin:v,register:function(t,n,e){var o=t.prototype.pluginName;if(f[o]=t,n){var r=l[n]=function(t,n){return function(e,o){var r=d(e,t,"instance");if("instance"===o)return r||null;if(r||(r=d(e,t,"object"==typeof o&&o||{})),o){var s=c.call(arguments,1);if(n)return n.apply(r,s);if("string"==typeof o){var a=o;if(!r)throw new Error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'");if(!i.isFunction(r[a])||"_"===a.charAt(0))throw new Error("no such method '"+a+"' for "+t+" plugin instance");r[a].apply(r,s)}}}}(o,e);p.fn[n]=function(t){var i=this;return this.length||"instance"!==t?this.each(function(){var n=r(this,t);if(void 0!==n)return i=n,!1}):i=void 0,i},h.partial(n,function(t){var i=r(this._elm,t);return void 0===i&&(i=this),i})}},shortcuts:l}),y});
//# sourceMappingURL=sourcemaps/plugins.js.map
