/**
 * skylark-utils-dom - An Elegant HTML5 DOM utility Library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark-langx/skylark","skylark-langx/klass","./langx","./noder","./datax","./eventer","./finder","./geom","./styler","./fx","./query","./velm"],function(t,i,n,e,s,o,r,a,l,h,u,p){"use strict";function c(t,i,n){m[t]=i,n&&p.partial(n,u.fn[n]=function(i){return this.plugin.apply(this,[t].concat(arguments))})}function f(t,i,e){var o=s.data(elem,i);if(void 0===e||"instance"===e)return o;var r="string"==typeof e,a=g.call(arguments,2),l=this;if(r){var h=e;return o?n.isFunction(o[h])&&"_"!==h.charAt(0)?o[h].apply(o,a):n.error("no such method '"+h+"' for "+i+" plugin instance"):n.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+h+"'")}if(a.length&&(e=n.mixin.apply(n,[{},e].concat(a))),o)o.option(e||{});else{var u=m[i];s.data(t,i,new u(e,t))}return l}function d(){return d}var g=Array.prototype.slice,m={},v=0,y=n.Evented.inherit({klassName:"Plugin",pluginEventPrefix:"",options:{create:null},_construct:function(t,i){this.options=n.mixin({},this.options),i=u(i||this.defaultElement||this)[0],this.element=u(i),this.uuid=v++,this.eventNamespace="."+this.pluginName+this.uuid,this.bindings=u(),i!==this&&(s.data(i,this.pluginFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=u(i.style?i.ownerDocument:i.document||i),this.window=u(this.document[0].defaultView||this.document[0].parentWindow)),this.options=n.mixin({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy(),this.element.off(this.eventNamespace).removeData(this.pluginFullName),this.plugin().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:n.noop,option:function(t,i){var e,s,o,r=t;if(0===arguments.length)return n.mixin({},this.options);if("string"==typeof t)if(r={},e=t.split("."),t=e.shift(),e.length){for(s=r[t]=u.plugin.extend({},this.options[t]),o=0;o<e.length-1;o++)s[e[o]]=s[e[o]]||{},s=s[e[o]];if(t=e.pop(),1===arguments.length)return void 0===s[t]?null:s[t];s[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=i}return this._setOptions(r),this},_setOptions:function(t){var i;for(i in t)this._setOption(i,t[i]);return this},_setOption:function(t,i){return this.options[t]=i,this}});return u.fn.plugin=function(t,i){var n=g.call(arguments,1),e=this,s=this;return this.each(function(){s=f.apply(e,[this,t].concat(n))}),s},p.partial("plugin",function(t,i){var n=g.call(arguments,1);return f.apply(this,[this,t].concat(n))}),n.mixin(d,{instantiate:f,Plugin:y,register:c}),d});
//# sourceMappingURL=sourcemaps/plugins.js.map
