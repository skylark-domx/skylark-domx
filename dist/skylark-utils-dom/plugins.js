/**
 * skylark-utils-dom - An Elegant HTML5 DOM utility Library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./dom","./langx","./noder","./datax","./eventer","./finder","./geom","./styler","./fx","./query","./elmx"],function(t,n,i,e,r,o,s,a,u,l,p){"use strict";var c=Array.prototype.slice,f=(Array.prototype.concat,{}),h={};function v(t,n,i){var r=n.split(":"),o=r[1];n=r[0],o||(o=n);var s=e.data(t,o);if("instance"===i)return s;if("destroy"===i){if(!s)throw new Error("The plugin instance is not existed");s.destroy(),e.removeData(t,n),s=void 0}else if(s)i&&s.reset(i);else{if(void 0!==i&&"object"!=typeof i)throw new Error("The options must be a plain object");s=new(0,f[n])(t,i),e.data(t,o,s)}return s}var d=n.Evented.inherit({klassName:"Plugin",_construct:function(t,n){this._elm=t,this._initOptions(n)},_initOptions:function(t){var i=this.constructor,e=i.cache=i.cache||{},r=e.defaults;if(!r){var o=[];do{if(o.unshift(i),i===d)break;i=i.superclass}while(i);r=e.defaults={};for(var s=0;s<o.length;s++)(i=o[s]).prototype.hasOwnProperty("options")&&n.mixin(r,i.prototype.options),i.hasOwnProperty("options")&&n.mixin(r,i.options)}return Object.defineProperty(this,"options",{value:n.mixin({},r,t)}),this.options},destroy:function(){this._destroy(),e.removeData(this._elm,this.pluginName)},_destroy:n.noop,_delay:function(t,n){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},n||0)},option:function(t,i){var e,r,o,s=t;if(0===arguments.length)return n.mixin({},this.options);if("string"==typeof t)if(s={},t=(e=t.split(".")).shift(),e.length){for(r=s[t]=n.mixin({},this.options[t]),o=0;o<e.length-1;o++)r[e[o]]=r[e[o]]||{},r=r[e[o]];if(t=e.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=i}return this._setOptions(s),this},_setOptions:function(t){var n;for(n in t)this._setOption(n,t[n]);return this},_setOption:function(t,n){return this.options[t]=n,this},elm:function(){return this._elm}});function y(){return y}return l.fn.plugin=function(t,n){var i=c.call(arguments,1),e=this,r=this;return this.each(function(){r=v.apply(e,[this,t].concat(i))}),r},p.partial("plugin",function(t,n){var i=c.call(arguments,1);return v.apply(this,[this.domNode,t].concat(i))}),n.mixin(y,{instantiate:v,Plugin:d,register:function(t,i,e,r){var o=t.prototype.pluginName;if(f[o]=t,i){e&&n.isFunction(e)&&(r=e,e=null),e&&(o=o+":"+e);var s=h[i]=function(t,i){return function(e,r){var o=v(e,t,"instance");if("instance"===r)return o||null;if(o||(o=v(e,t,"object"==typeof r&&r||{})),r){var s=c.call(arguments,2);if(i)return i.apply(o,s);if("string"==typeof r){var a=r;if(!o)throw new Error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'");if(!n.isFunction(o[a])||"_"===a.charAt(0))throw new Error("no such method '"+a+"' for "+t+" plugin instance");return o[a].apply(o,s)}}}}(o,r);l.fn[i]=function(t){var n=this;if(this.length||"instance"!==t){var i=c.call(arguments);this.each(function(){var t=c.call(i);t.unshift(this);var e=s.apply(null,t);if(void 0!==e)return n=e,!1})}else n=void 0;return n},p.partial(i,function(t){var n=s(this._elm,t);return void 0===n&&(n=this),n})}},shortcuts:h}),y});
//# sourceMappingURL=sourcemaps/plugins.js.map
