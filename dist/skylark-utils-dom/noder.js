/**
 * skylark-utils-dom - An Elegant HTML5 DOM utility Library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./dom","./langx","./browser","./styler"],function(e,t,n,r){var i=!!navigator.userAgent.match(/Trident/g)||!!navigator.userAgent.match(/MSIE/g),o=/^\s*<(\w+|!)[^>]*>/,a=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,c=document.createElement("div"),d=document.createElement("table"),u=document.createElement("tbody"),l=document.createElement("tr"),s={tr:u,tbody:d,thead:d,tfoot:d,td:l,th:l,"*":c},f=/^(?:body|html)$/i,m=Array.prototype.map,h=Array.prototype.slice;function p(e,n){return t.isArrayLike(e)||(e=[e]),n&&(e=m.call(e,function(e){return e.cloneNode(!0)})),t.flatten(e)}function v(e,n){if(t.isFunction(e))return e.apply(n,[]);if(t.isArrayLike(e)){for(var r,i=0;i<e.length;i++)t.isFunction(e[i])&&(e[i]=e[i].apply(n,[]),t.isArrayLike(e[i])&&(r=!0));r&&(e=t.flatten(e))}return e}function b(e,t,n){for(var r=e,i=p(t=v(t,e),n),o=0;o<i.length;o++)r.appendChild(i[o]);return this}function y(e,t,n){var r=document.createElement(e);if(t)for(var i in t)r.setAttribute(i,t[i]);return n&&b(n,r),r}var N=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi;function g(e,t,n){if(n)return e.parentNode===t;if(document.documentElement.contains)return t.contains(e);for(;e;){if(t===e)return!0;e=e.parentNode}return!1}function C(e){return e?9==e.nodeType?e:e.ownerDocument:document}function w(){return w}return t.mixin(w,{active:function(e){var t;e=e||document;try{t=e.activeElement}catch(n){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t},blur:function(e){e.blur()},body:function(){return document.body},clone:function(e,t){var n,r=this;return!i||1!==e.nodeType||t?e.cloneNode(t):t?void 0:(n=document.createElement(e.nodeName),each(r.getAttribs(e),function(t){r.setAttrib(n,t.nodeName,r.getAttrib(e,t.nodeName))}),n)},contents:function(e){return function(e,t){var n=e.nodeName&&e.nodeName.toLowerCase();return void 0!==t?n===t.toLowerCase():n}(e,"iframe")?e.contentDocument:e.childNodes},createElement:y,createFragment:function(n){if(n=t.trim(n),a.test(n))return[y(RegExp.$1)];var r=o.test(n)&&RegExp.$1;r in s||(r="*");var i=s[r];return i.innerHTML=""+n,(e=h.call(i.childNodes)).forEach(function(e){i.removeChild(e)}),e},contains:function(e,t){return g(t,e)},createTextNode:function(e){return document.createTextNode(e)},doc:function(){return document},empty:function(e){for(;e.hasChildNodes();){var t=e.firstChild;e.removeChild(t)}return this},fullScreen:function(e){if(!1===e)n.exitFullScreen.apply(document);else{if(!e)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;n.requestFullScreen.apply(e),e}},focusable:function(e,t){var n,r,i,o,a,c=e.nodeName.toLowerCase();return"area"===c?(r=(n=e.parentNode).name,!(!e.href||!r||"map"!==n.nodeName.toLowerCase())&&(i=$("img[usemap='#"+r+"']")).length>0&&i.is(":visible")):(/^(input|select|textarea|button|object)$/.test(c)?(o=!e.disabled)&&(a=$(e).closest("fieldset")[0])&&(o=!a.disabled):o="a"===c&&e.href||t,o&&$(e).is(":visible")&&visible($(e)))},html:function(e,n){if(void 0===n)return e.innerHTML;if(this.empty(e),n=n||"",t.isString(n)&&(n=n.replace(N,"<$1></$2>")),t.isString(n)||t.isNumber(n))e.innerHTML=n;else if(t.isArrayLike(n))for(var r=0;r<n.length;r++)e.appendChild(n[r]);else e.appendChild(n)},isChildOf:g,isDocument:function(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE},isInDocument:function(e){return e===document.body||document.body.contains(e)},isWindow:t.isWindow,offsetParent:function(e){for(var t=e.offsetParent||document.body;t&&!f.test(t.nodeName)&&"static"==r.css(t,"position");)t=t.offsetParent;return t},ownerDoc:C,ownerWindow:function(e){var t=C(e);return t.defaultView||t.parentWindow},after:function(e,t,n){t=v(t,e);var r=(o=e).parentNode;if(r)for(var i=p(t,n),o=o.nextSibling,a=0;a<i.length;a++)o?r.insertBefore(i[a],o):r.appendChild(i[a]);return this},before:function(e,t,n){t=v(t,e);var r=e,i=r.parentNode;if(i)for(var o=p(t,n),a=0;a<o.length;a++)i.insertBefore(o[a],r);return this},prepend:function(e,t,n){for(var r=e,i=r.firstChild,o=p(t,n),a=0;a<o.length;a++)i?r.insertBefore(o[a],i):r.appendChild(o[a]);return this},append:b,remove:function(e){if(e&&e.parentNode)try{e.parentNode.removeChild(e)}catch(e){console.warn("The node is already removed",e)}return this},removeChild:function(e,n){t.isArrayLike(n)||(n=[n]);for(var r=0;r<n.length;r++)e.removeChild(n[r]);return this},replace:function(e,t){return t.parentNode.replaceChild(e,t),this},throb:function(e,t){var n,i=this,o=(t=t||{}).text,a=(t.style,t.time),c=t.callback,d=this.createElement("div",{class:t.className||"throbber"}),u=(function(e,t){var n=y("div",t);r.css(n,{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:2147483647,opacity:.7}),e.appendChild(n)}(d,{class:"overlay fade"}),this.createElement("div",{class:"throb"})),l=this.createTextNode(o||""),s=function(){n&&(clearTimeout(n),n=null),d&&(i.remove(d),d=null)};return t.style&&r.css(d,t.style),u.appendChild(l),d.appendChild(u),e.appendChild(d),a&&(n=setTimeout(function(){s(),c&&c()},a)),{remove:s,update:function(e){e&&e.text&&d&&(l.nodeValue=e.text)}}},traverse:function e(t,n){n(t);for(var r=0,i=t.childNodes.length;r<i;r++)e(t.childNodes[r],n);return this},reverse:function(e){for(var t=e.firstChild,n=e.children.length-1;n>0;n--)if(n>0){var r=e.children[n];e.insertBefore(r,t)}},wrapper:function(e,n){t.isString(n)&&(n=this.createFragment(n).firstChild),e.parentNode.insertBefore(n,e),n.appendChild(e)},wrapperInner:function(e,t){var n=h.call(e.childNodes);e.appendChild(t);for(var r=0;r<n.length;r++)t.appendChild(n[r]);return this},unwrap:function(e){var t=e.parentNode;if(t){if(this.isDoc(t.parentNode))return;t.parentNode.insertBefore(e,t)}}}),e.noder=w});
//# sourceMappingURL=sourcemaps/noder.js.map
